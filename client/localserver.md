
服务进程中有一个线程专门启用一个本地socket监听上传通知，接收通知反序列化数据结构体并添加到上传队列，这个队列是全局的，然后上传管理线程做两件事，1读取需要上传的文件信息队列，2维护上传线程引用计数，保证启动目标数量的上传线程进行数据上传，上传结束一个启动一个，以此类推。UI进程上启用一个socket监听，用于接收进度回调或者发送状态等。