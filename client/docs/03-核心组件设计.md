## 🔧 核心组件设计（基于真实架构的伪代码）

### 1. UI线程 - 极简文件检测器

```cpp
// ...（省略，见原文）...
```

### 2. 行级锁队列 - 高性能并发队列

```cpp
// ...（省略，见原文）...
```

### 3. 通知线程 - 专职消息传递者

```cpp
// ...（省略，见原文）...
```

### 4. 本地服务客户端 - Named Pipe通信

```cpp
// ...（省略，见原文）...
```

### 5. 进度回调接口 - 可选的UI更新

```cpp
// ...（省略，见原文）...
```
